\section{Introducción}

En el presente trabajo se aborda la extensión del diseño presentado en el TP1, debiendo ahora plantear un sistema de cultivo de muchas plantas en grandes extensiones de terreno y para muchos clientes. Dada esta nueva situación, aparecen varios stakeholders que, por su colaboración en el proyecto proveyendo logística o servicios, o por su intención de consumo, imponen distintos requerimientos que sumados a los técnicos desembocan en la contemplación de diversos riesgos y atributos de calidad.\\
Aquí se presenta una planificación de las fases de \textit{elaboración} y \textit{construcción} de la metodología UP, asumiendo que la fase \textit{inception} ya se ha desarrollado. En esta primera etapa se han presentado las ideas para la formulación del proyecto BigCherry, se han establecido los requerimientos y recursos disponibles, y se ha llevado a cabo el QAW del cual se desprendieron algunos atributos de calidad esperados en el producto final.

\section{Casos de Uso}

\subsection{Asignación de CU}

Para comenzar a trabajar sobre la planificación del proyecto se identificó un conjunto de casos de uso que cubriera la mayoría de las funcionalidades que se desprenden de los requerimientos obtenidos. Los mismos se organizaron en seis iteraciones, distribuidas a lo largo de las fases de elaboración y construcción de la metodología UP. La división de los CU en las distintas iteraciones y la organización de las mismas estuvo pautada por las necesidades manifestadas por los stakeholders y un incremento de funcionalidad, partiendo del núcleo más importante y revistiendo la aplicación a lo largo del tiempo de lógica menos prioritaria.\\
\indent Dado que la primera iteración ya contaba con un tiempo fijado (3 semanas), se determinó trabajar en este tiempo en la comunicación con la red pública de drones (ya que el Ministerio exigía que esto estuviera implementado en los primeros dos meses), la recepción y procesamiento de las imágenes, la traducción de estos datos en mediciones de los indicadores de estado de los cultivos y una mínima interacción con actuadores. Para las siguientes iteraciones se adjudicaron casos de uso que totalizaran una cantidad de tiempo similar y que implicaran una evolución coherente y funcional de la aplicación. Por ejemplo, para la segunda iteración se asignaron los casos de uso relacionados con la programación de seguimiento de cultivos, el monitoreo de la salud de las plantas y la comunicación con las estaciones climatológicas, mientras que la encrptación de datos se diagramó en la órbita de la sexta y última iteración.\\
\indent Parte de este cronograma fue también regido por el análisis de riesgos, presentado en la \textbf{SECCION}, el cual se vio alimentado por los requerimientos iniciales y por las intervenciones de los distintos stakeholders en el QAW. De esta manera, dado que el riesgo más importante resultó ser la correcta implementación de la comunicación con la red pública de drones, se decidió incluir este desarrollo dentro de la primera iteración, de casi un mes de duración, para garantizar que haya el suficiente tiempo para llevar adelante esta tarea dentro del marco de tiempo requerido.

\clearpage

\subsection{Iteraciones}

\textbf{Primera iteración} [3 semanas]
	\begin{enumerate}
		\item Accediendo a la red pública de drones
		\item Recibiendo imágenes de los drones
		\item Procesando datos de bandas espectrales de las fotografías
		\item Interactuando con actuadores
	\end{enumerate}

\textbf{Segunda iteración} [2 semanas]
	\begin{enumerate}
		\item Generando mediciones de estado del terreno / cultivos a partir de fotos procesadas
		\item Monitoreando el estado de salud de las plantas
		\item Obteniendo información del clima a partir de las micro-estaciones climatológicas del INTA.
		\item Calculando decisión según información recolectada y plan maestro
	\end{enumerate}

\textbf{Tercera iteración} [2 semanas]
	\begin{enumerate}
		\item Iniciando seguimiento de cultivos / región
		\item Incorporando nuevas especies de cultivo (ABM Cultivo)
		\item Consultando planes maestros de cultivo provistos por el INTA / organismos privados (ABM Plan)
		\item Consultando estado de los cultivos
		\item Accediendo a la red privada de drones
	\end{enumerate}

\textbf{Cuarta iteración} [2 semanas]
	\begin{enumerate}
		\item Supervisando acciones ordenadas a actuadores
		\item Agregando muestreo manual del estado de los cultivos / terreno
		\item Visualizando el mapa del estado del terreno
		\item Personalizando plan maestro de cultivo
		\item Agregando nuevos actuadores (ABM Actuador)
	\end{enumerate}

\textbf{Quinta iteración} [2 semanas]
	\begin{enumerate}
		\item Logueando eventos del sistema
		\item Autenticando usuario (ABM Usuario)
		\item Autorizando usuario (ABMs Rol y Permiso)
		\item Revisando registro de eventos
	\end{enumerate}

\textbf{Sexta iteración} [2 semanas]
	\begin{enumerate}
		\item Manejando fallas de servidores de INTA
		\item Descargando fotos offline de dron
		\item Organizando información almacenada entre nodos ArSat
		\item Encriptando / desencriptando información a almacenar
	\end{enumerate}

\clearpage

\subsection{Síntesis CU Primera iteración}
		
\begin{enumerate}
	\item \textbf{Accediendo a la red pública de drones}
	Se refiere a la conexión y comunicación con la red estatal de drones. BigCherry debe poder iniciar una sesión dentro de la red y realizar peticiones de imágenes para ciertas coordenadas. Debe poder enviar los mensajes acorde a la especificación de la API de la red y a su vez debe poder interpretar los distintos mensajes que ésta le envía, sean de comportamiento normal o error. Esto debe permitir, además, la parametrización de los pedidos y el acceso a otros datos de los drones como disponibilidad, tiempo estimado de envío de la información, etc.

	\item \textbf{Recibiendo imágenes de los drones}
	Una vez satisfecho el pedido de imágenes aéreas, el sistema debe poder recibir las mismas sin errores y almacenarlas correctamente para su posterior procesamiento. Es importante que pueda manejar la recepción de muchas imágenes en simultáneo y que esto no afecte transimisión de otros datos con el resto de los drones.

	\item \textbf{Procesando datos de bandas espectrales de las fotografías}
	Al analizar las imágenes se deben aplicar distintos filtros para obtener datos del suelo como temperatura, humedad, salinidad del agua y otros indicadores pertinentes a la salud de las plantas. Ademśas se deben determinar posibles problemas como fotografías corruptas, mal tomadas (con obstáculos) o que presenten otro tipo de anomalías. La salida de este procesamiento debe almacenarse acorde al input procesado para posteriores consultas.

	\item \textbf{Interactuando con actuadores} 
	Este CU refiere a la interacción de BigCherry con los actuadores registrados, ya sean pulverizadoras, cosechadoras, sistemas de riego o fertilización, etc. Deben poder enviarse mensajes con directivas para que éstos lleven a cabo a través del protocolo de comunicación que maneje cada dispositivo.
\end{enumerate}

\subsection{Detalle Primera iteración}

\begin{itemize}
\item Identificación: E1
\item Tipo de iteración: Elaboración
\item Tareas:
	\begin{enumerate}
	\item Refinamiento de objetivos y requerimientos
	\item QAW con stakeholders y equipo
	\item Análisis de riesgos
	\item Reconocimiento de casos de uso
	\item División de CU en iteraciones según prioridad
	\item Estimación de tiempos de CU
	\item Análisis de escenarios y atributos de calidad del sistema
	\item Diseño de arquitectura
	\item Realización de tareas de CU1
	\item Realización de tareas de CU2
	\item Realización de tareas de CU3
	\item Realización de tareas de CU4	
	\end{enumerate}
\end{itemize}

